version: '3.3'

services:
    kafka:
        container_name: employee_kafka
        image: spotify/kafka
        hostname: kafka
        environment:
            - ADVERTISED_HOST=kafka
            - ADVERTISED_PORT=9092
        ports: 
            - 2181:2181
            - 9092:9092
        networks:
            - employee_network
        command: /opt/kafka_2.11-0.10.1.0/bin/kafka-topics.sh --create --zookeeper kafka:2181 --replication-factor 1 --partitions 1 --topic employees
            

networks:
    employee_network: